<!-- contact.component.html -->
<!-- Header Navigation -->
<header class="header">
    <nav class="nav-bar">
        <div class="logo">
            <img src="assets/logo/logogreen.png" alt="Booking process" />
            <span class="logo-text">Green Organiser</span>
        </div>
        <div class="nav-links">
            <button class="nav-link" (click)="navigateToHome()">Home</button>
            <button class="nav-link" (click)="navigateToAbout()">About</button>
            <button class="nav-link active">Contact</button>
            <button (click)="openTypeform()" class="nav-cta">I would like to request a free quote</button>

            <app-language-switcher></app-language-switcher>
        </div>
    </nav>
</header>

<!-- Contact Form Section -->
<section class="contact-section">
  <div class="contact-container">
    <h1>Contact us!</h1>
    
    <form class="contact-form" (ngSubmit)="onSubmit()" #contactForm="ngForm">
      <div class="form-group">
        <label for="nom">Last Name*</label>
        <input 
          type="text" 
          id="nom" 
          name="nom" 
          [(ngModel)]="formData.nom" 
          required 
          class="form-input"
          #nom="ngModel">
        <div *ngIf="nom.invalid && nom.touched" class="error-message">
          The last name is required
        </div>
      </div>

      <div class="form-group">
        <label for="prenom">First Name*</label>
        <input 
          type="text" 
          id="prenom" 
          name="prenom" 
          [(ngModel)]="formData.prenom" 
          required 
          class="form-input"
          #prenom="ngModel">
        <div *ngIf="prenom.invalid && prenom.touched" class="error-message">
          The first name is required
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email Address*</label>
        <input 
          type="email" 
          id="email" 
          name="email" 
          [(ngModel)]="formData.email" 
          required 
          email 
          class="form-input"
          #email="ngModel">
        <div *ngIf="email.invalid && email.touched" class="error-message">
          <span *ngIf="email.errors?.['required']">The email address is required</span>
          <span *ngIf="email.errors?.['email']">The email address is not valid</span>
        </div>
      </div>

      <div class="form-group">
        <label for="telephone">Phone Number</label>
        <input 
          type="tel" 
          id="telephone" 
          name="telephone" 
          [(ngModel)]="formData.telephone" 
          class="form-input">
      </div>

      <div class="form-group">
        <label for="message">Message*</label>
        <textarea 
          id="message" 
          name="message" 
          [(ngModel)]="formData.message" 
          required 
          rows="6" 
          class="form-textarea"
          #message="ngModel"
          placeholder="Your message..."></textarea>
        <div *ngIf="message.invalid && message.touched" class="error-message">
          The message is required
        </div>
      </div>

      <button 
        type="submit" 
        class="submit-button" 
        [disabled]="!contactForm.form.valid"
        [class.disabled]="!contactForm.form.valid">
        Send
      </button>
    </form>

    <!-- Success Message -->
    <div *ngIf="showSuccessMessage" class="success-message">
      <p>âœ… Thank you! Your email client will open to send the message. We will respond as soon as possible.</p>
    </div>
  </div>
</section>